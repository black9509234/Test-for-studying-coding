<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>스타 팩토리</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    html, body {
  height: 100%;
  margin: 0;
  padding: 0;
  overflow-y: auto;
  overflow-x: hidden;
  font-family: 'Segoe UI', sans-serif;
  background: radial-gradient(ellipse at bottom, #1b2735 0%, #090a0f 100%);
  color: #fff;
}

#background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
  pointer-events: none;
  overflow: hidden;
}

.star {
  position: absolute;
  width: 2px;
  height: 2px;
  background: white;
  border-radius: 50%;
  opacity: 0.8;
}

.nav {
  display: flex;
  gap: 10px;
  padding: 10px;
}

button {
  background-color: #444;
  color: white;
  border: none;
  padding: 10px 15px;
  cursor: pointer;
  border-radius: 5px;
}

.panel {
  padding: 30px;
  max-width: 500px;
  margin: 0 auto;
  text-align: center;
}

.hidden {
  display: none;
}

  </style>
</head>
<body>
  <div id="background"></div>

  <div class="nav">
    <button onclick="showPanel('game')">게임</button>
    <button onclick="showPanel('settings')">설정</button>
  </div>

  <div id="game-panel" class="panel">
    <h1>스타 팩토리</h1>
    <p>보유한 별: <span id="stars">0</span></p>
    <button onclick="collectStar()">별 수집</button>
    <p>망원경: <span id="telescopes">0</span></p>
    <p>초당 생산량: <span id="perSecond">0</span></p>
    <button onclick="buyTelescope()">망원경 구매 (50 별)</button>
  </div>

  <div id="settings-panel" class="panel hidden">
    <h1>설정</h1>
    <button onclick="saveGame()">게임 저장</button>
    <button onclick="loadGame()">불러오기</button>
    <button onclick="resetGame()">초기화</button>
  </div>

  <script src="script.js">
    let stars = 0;
let telescopes = 0;

function collectStar() {
  stars++;
  updateDisplay();
}

function buyTelescope() {
  if (stars >= 50) {
    stars -= 50;
    telescopes++;
    updateDisplay();
  }
}

function updateDisplay() {
  document.getElementById("stars").innerText = stars;
  document.getElementById("telescopes").innerText = telescopes;
  document.getElementById("perSecond").innerText = telescopes * 2;
}

function generateStars() {
  stars += telescopes * 2;
  updateDisplay();
}
setInterval(generateStars, 1000);

function saveGame() {
  const data = { stars, telescopes };
  localStorage.setItem("starFactorySave", JSON.stringify(data));
  alert("저장 완료!");
}

function loadGame() {
  const data = JSON.parse(localStorage.getItem("starFactorySave"));
  if (data) {
    stars = data.stars;
    telescopes = data.telescopes;
    updateDisplay();
    alert("불러오기 완료!");
  } else {
    alert("저장된 게임이 없습니다.");
  }
}

function resetGame() {
  if (confirm("정말 초기화할까요?")) {
    stars = 0;
    telescopes = 0;
    updateDisplay();
  }
}

function showPanel(name) {
  document.getElementById("game-panel").classList.add("hidden");
  document.getElementById("settings-panel").classList.add("hidden");
  document.getElementById(`${name}-panel`).classList.remove("hidden");
}

function createStarsBackground() {
  const background = document.getElementById('background');
  for (let i = 0; i < 100; i++) {
    const star = document.createElement('div');
    star.className = 'star';
    star.style.top = `${Math.random() * window.innerHeight}px`;
    star.style.left = `${Math.random() * window.innerWidth}px`;
    background.appendChild(star);
  }
}
createStarsBackground();

updateDisplay();

  </script>
</body>
</html>
