<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Diep.io 스타일 사각형</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: white;
    }
    canvas {
      display: block;
    }
  </style>
</head>
<body>
  <canvas id="canvas"></canvas>

  <script>
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const NUM_SQUARES = 30;
    const squares = [];

    for (let i = 0; i < NUM_SQUARES; i++) {
      squares.push({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        size: 20 + Math.random() * 10,
        dx: (Math.random() - 0.5) * 1.5,
        dy: (Math.random() - 0.5) * 1.5,
      });
    }

    function update() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      for (let square of squares) {
        // 위치 업데이트
        square.x += square.dx;
        square.y += square.dy;

        // 벽 튕김
        if (square.x < 0 || square.x + square.size > canvas.width) {
          square.dx *= -1;
        }
        if (square.y < 0 || square.y + square.size > canvas.height) {
          square.dy *= -1;
        }

        // 마찰처럼 부드럽게 움직임
        square.dx += (Math.random() - 0.5) * 0.2;
        square.dy += (Math.random() - 0.5) * 0.2;

        // 속도 제한
        square.dx = Math.max(-1.5, Math.min(1.5, square.dx));
        square.dy = Math.max(-1.5, Math.min(1.5, square.dy));

        // 그리기
        ctx.fillStyle = 'yellow';
        ctx.fillRect(square.x, square.y, square.size, square.size);

        // 테두리 추가 (Diep.io 느낌)
        ctx.strokeStyle = 'black';
        ctx.lineWidth = 2;
        ctx.strokeRect(square.x, square.y, square.size, square.size);
      }

      requestAnimationFrame(update);
    }

    update();
  </script>
</body>
</html>
